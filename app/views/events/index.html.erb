<%= render "shared/third-header"%>
<%= render "shared/header"%>

<div class="calendar-index">
  <div class="calendar-form">
    <div class="calendar-bottom">
      <h3>記録</h3>

      <%= form_with(model: @event, local: true) do |form| %>
        <div class="form-container">
          <div class="form-row">
            <div class="form-col calendar-time">
              <%= form.label :start_time do%>
                <%= form.date_select :start_time %>
              <% end %>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <%= form.label :room_id %>
              <%= form.collection_select :room_id, @rooms, :id, :name %>
              <%# <%= form.label :title %>
              <%# <%= form.text_field :title %>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <%= form.label :content %>
              <%= form.text_field :content %>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <%= form.submit %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <div class="calendar-wrapper">
    <%= month_calendar events: @events do |date, events| %>
      <%= date.day %>

      <% events.each do |event| %>
        <div>
          <%= event.room.name %>
        </div>
        <div>
          <%= event.content %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>